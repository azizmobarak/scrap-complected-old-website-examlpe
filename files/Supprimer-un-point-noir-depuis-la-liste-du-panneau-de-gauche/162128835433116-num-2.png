<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />        <title>
            GeoRed-Online - Desktop        </title>

        <link href="/desktop/app/webroot/favicon.ico" type="image/x-icon" rel="icon" /><link href="/desktop/app/webroot/favicon.ico" type="image/x-icon" rel="shortcut icon" /><script type="text/javascript">
//<![CDATA[
app_url = 'http://preprod-casa-geored.geored.fr/desktop/';root_ajax = '/desktop/index.php/';
//]]>
</script><link rel="stylesheet" type="text/css" href="/desktop/app/webroot/css/bootstrap.css?1561628509" id="link_bootstrap_css" /><link rel="stylesheet" type="text/css" href="/desktop/app/webroot/css/login/foundation.css?1561628509" /><link rel="stylesheet" type="text/css" href="/desktop/app/webroot/css/login/app.css?1561628509" /><link rel="stylesheet" type="text/css" href="/desktop/app/webroot/css/thomas.css?1561628509" /><link rel="stylesheet" type="text/css" href="/desktop/app/webroot/css/foundation-icons.css?1561628509" /><script type="text/javascript" src="/desktop/app/webroot/js/form.js?1561628510"></script><script type="text/javascript" src="/desktop/app/webroot/js/main.js?1600688678"></script><script type="text/javascript" src="/desktop/app/webroot/js/jquery/jquery-1.11.0.min.js?1561628510"></script><script type="text/javascript" src="/desktop/app/webroot/js/jquery/i18n/jquery.i18n.js?1561628510"></script><script type="text/javascript">$j = jQuery.noConflict();</script><script type="text/javascript" src="/desktop/app/webroot/js/jquery/i18n/jquery.i18n-fr.js?1594132928"></script><script type="text/javascript" src="/desktop/app/webroot/js/bootstrap.min.js?1561628510"></script>        <script type="text/javascript">
            $j.i18n.setLocale('fr');
        </script>

        <style>

            .navbar-default {
                border-color:#efefef;
            }
            .navbar-default .navbar-toggle {
                border-color:#efefef;
            }
            .navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {
                background-color:#efefef;
            }
            .navbar-header {
                float: none;
                background-color:#efefef;
              }
              .navbar-toggle {
                display: block;
              }
              .navbar-collapse {
                border-top: 1px solid transparent;
                box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);
              }
              .navbar-collapse.collapse {
                display: none!important;
              }
              .navbar-nav {
                float: none!important;
                margin: 7.5px -15px;
              }
              .navbar-nav>li {
                float: none;
              }
              .navbar-nav>li>a {
                padding-top: 10px;
                padding-bottom: 10px;
              }
              .navbar-default .navbar-toggle .icon-bar {
                  background-color:#1153a0;
              }
              #overlay {
                  background-color: rgba(0, 0, 0, 0.5);
                  /*background-color: rgba(255, 153, 0, 0.5);*/
                  z-index: 999;
                  position: absolute;
                  left: 0;
                  top: 0;
                  width: 100%;
                  height: 100%;
                  display: none;
              }


              * {
                margin: 0;
                padding: 0;
              }

              /* Icon 1 */

              #nav-icon4 {
                width: 45px;
                height: 40px;
                position: relative;
                  -webkit-transform: rotate(0deg);
                -moz-transform: rotate(0deg);
                -o-transform: rotate(0deg);
                transform: rotate(0deg);
                -webkit-transition: .5s ease-in-out;
                -moz-transition: .5s ease-in-out;
                -o-transition: .5s ease-in-out;
                transition: .5s ease-in-out;
                cursor: pointer;
              }

              #nav-icon4.open {
                  background-color:#efefef;
              }

              #nav-icon4 span {
                display: block;
                position: absolute;
                height: 4px;
                width: 100%;
                background: #1153a0;
                border-radius: 9px;
                opacity: 1;
                left: 0;
                -webkit-transform: rotate(0deg);
                -moz-transform: rotate(0deg);
                -o-transform: rotate(0deg);
                transform: rotate(0deg);
                -webkit-transition: .25s ease-in-out;
                -moz-transition: .25s ease-in-out;
                -o-transition: .25s ease-in-out;
                transition: .25s ease-in-out;
              }

              #nav-icon4 span:nth-child(1) {
                top: 0px;
                -webkit-transform-origin: left center;
                -moz-transform-origin: left center;
                -o-transform-origin: left center;
                transform-origin: left center;
              }

              #nav-icon4 span:nth-child(2) {
                top: 10px;
                -webkit-transform-origin: left center;
                -moz-transform-origin: left center;
                -o-transform-origin: left center;
                transform-origin: left center;
              }

              #nav-icon4 span:nth-child(3) {
                top: 20px;
                -webkit-transform-origin: left center;
                -moz-transform-origin: left center;
                -o-transform-origin: left center;
                transform-origin: left center;
              }

              #nav-icon4.open span:nth-child(1) {
                -webkit-transform: rotate(45deg);
                -moz-transform: rotate(45deg);
                -o-transform: rotate(45deg);
                transform: rotate(45deg);
                top: 2px;
                left: 6px;
              }

              #nav-icon4.open span:nth-child(2) {
                width: 0%;
                opacity: 0;
              }

              #nav-icon4.open span:nth-child(3) {
                -webkit-transform: rotate(-45deg);
                -moz-transform: rotate(-45deg);
                -o-transform: rotate(-45deg);
                transform: rotate(-45deg);
                top: 33px;
                left: 7px;
              }

              @media (min-width: 992px) {
                .header>.row>div>a>img{
                  position:absolute;
                  padding-right: 15px;
                }
              }
        </style>
    </head>


    <body>
        <div id="content">
            
<div id="div_global_cont_login">
    <div class="header">
        <div class="row">
            <div class="col-xs-4 col-sm-4 col-md-2 col-lg-2">
                <a href="http://www.casablancacity.ma/" target="_blank">
                    <img src="/desktop/app/webroot/img/logo_site/logo-casa.png?1583143827" class="img-responsive" alt="Ville de Casablanca" />                </a>
            </div>
            <div class="col-md-6 col-lg-6 visible-md visible-lg">
                <p class="margint1 header">
                Navigateurs compatibles : versions r√©centes de Google Chrome, Mozilla Firefox ou Microsoft Edge                </p>

            </div>
            <div class="text-center col-xs-4 col-sm-4 col-md-2 col-lg-2">
                <p class="margint4 header">
                    <a target="_blank" id="link-assist" href="https://espaceclientsimpliciti.microsoftcrmportals.com/">Assistance</a>
                </p>
            </div>
            <div class="marginb1 col-xs-4 col-sm-4 col-md-2 col-lg-2">
                <img src="/desktop/app/webroot/img/flags/fr.png?1561628509" title="FR" style="cursor:pointer;" class="login_img_flag pull-right" alt="Logo-Simpliciti" onclick="window.location = &quot;/desktop/index.php/utilisateurs/login?lg=fr&quot;;" />                <img src="/desktop/app/webroot/img/flags/en.png?1561628509" title="EN" style="cursor:pointer;" class="login_img_flag pull-right" alt="Logo-Simpliciti" onclick="window.location = &quot;/desktop/index.php/utilisateurs/login?lg=en&quot;;" />                <img src="/desktop/app/webroot/img/flags/nl.png?1561628509" title="NL" style="cursor:pointer;" class="login_img_flag pull-right" alt="Logo-Simpliciti" onclick="window.location = &quot;/desktop/index.php/utilisateurs/login?lg=nl&quot;;" />            </div>
        </div>
        <!--<div class="row">
            <div class="two columns"></div>
            <div class="height columns">-->
                            <!--</div>
            <div class="two columns"></div>
        </div>-->
    </div>


    <div class="backgroundContent" id="backgroundContent">
        <div class="row">
            <div class="col-md-7 col-lg-7 visible-md visible-lg">
                <div id="featured">
                    <img src="/desktop/app/webroot/img/login_geotrans/slider/casa-slider.png?1583143827" style="width:100%;" alt="" />                </div>
            </div>
            <div class="col-md-1 col-lg-1 visible-md visible-lg"></div>
            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 text-center">
                <img src="/desktop/app/webroot/img/login_geored/geored.png?1561628510" class="" alt="" />                <div class="">
                    <form action="/desktop/index.php/utilisateurs/login" id="formLoginDesktop" method="post" accept-charset="utf-8"><div style="display:none;"><input type="hidden" name="_method" value="POST" /></div>                        <h1 class="marginb5 OpenSans grey">Connexion</h1>
                        <input required name="data[Utilisateur][Login]" type="text" placeholder="Identifiant" onFocus="if(this.value == &#039;Identifiant&#039;) {this.value = &#039;&#039;;$j(&#039;#div_identifiant&#039;).css(&#039;border&#039;,&#039;2px solid #777&#039;);}" onBlur="if(this.value == &#039;&#039;) {this.value=&#039;Identifiant&#039;;$j(&#039;#div_identifiant&#039;).css(&#039;border&#039;,&#039;2px inset #aeafb3&#039;);}" id="Login" class="inputLogin vertAlign margint5 input-form" value="" maxlength="20" />
                        <input required name="data[Utilisateur][Client_Nom]" type="text" placeholder="Soci√©t√©" onFocus="if(this.value == &#039;Soci√©t√©&#039;) {this.value = &#039;&#039;;$j(&#039;#div_societe&#039;).css(&#039;border&#039;,&#039;2px solid #777&#039;);}" onBlur="if(this.value == &#039;&#039;) {this.value=&#039;Soci√©t√©&#039;;$j(&#039;#div_societe&#039;).css(&#039;border&#039;,&#039;2px inset #aeafb3&#039;);}" id="Client_Nom" class="inputLogin vertAlign input-form" value="" maxlength="40" />
                        <input required type="password" name="data[Utilisateur][PassMD5]" placeholder="Mot de passe" onBlur="if(this.value == &#039;&#039;) {$j(&#039;showMessPwd&#039;).show();$j(&#039;#div_password&#039;).css(&#039;border&#039;,&#039;none2px inset #aeafb3&#039;);}" class="inputLogin vertAlign input-form" style="z-index:1;" id="PassMD5" />
                        <div style="padding:2px;color:#e90e00;"><div id="authMessage" class="message">You are not authorized to access that location.</div></div>                        <a href="#" data-toggle="modal" data-target="#modal-forgot-password">Mot de passe oubli√© ?</a>
                        <button type="submit" id="connection" class="medium radius button btn-form">
                            Connexion                        </button>
                    </form>                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-forgot-password" tabindex="-1" role="dialog" aria-labelledby="modal-forgot-password-label" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h5 class="modal-title">Mot de passe oubli√© ?</h5>
                </div>
                <div class="modal-body">
                    <p id="message-forgot-password" class="text-center">
                        Veuillez saisir vos informations.<br/>
                        Un mail contenant un lien vous sera envoy√© afin de saisir un nouveau mot de passe.                    </p>
                    <div id="fields-forgot-password" style="margin-top: 20px;">
                        <div>
                            <input type="text" class="inputLogin vertAlign input-form form-control" maxlength="20" value="" id="forgotPasswordLogin" placeholder="Identifiant" />
                        </div>
                        <div>
                            <input type="text" class="inputLogin vertAlign input-form form-control" maxlength="40" value="" id="forgotPasswordClientNom" placeholder="Soci√©t√©" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btn-reset-password">R√©initialiser</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="overlay"></div>
<nav class="navbar navbar-default navbar-fixed-bottom visible-sm visible-md visible-lg">
    <div class="navbar-header">
        <a class="navbar-brand">Copyright<sup>&copy;</sup> 2021 - Simpliciti</a>
        <a class="navbar-brand">V.24.09.2020</a>
<!--		<button id="button-slide-footer" type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myCollapsible1">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>-->
        <div id="nav-icon4" class="navbar-toggle" data-toggle="collapse" data-target="#myCollapsible1">
          <span></span>
          <span></span>
          <span></span>
        </div>
    </div>
    <div class="navbar-collapse-bottom collapse" id="myCollapsible1">
        <div id="" class="">
            <strong class="">
                <div class="titre ">
                    <div class="row">
                        <div class="four columns">
                            <h3 class="OpenSans"><a href="https://simpliciti.fr/Blog" target="_blank">Actualit√©s Simpliciti</a></h3>
                        </div>
                        <div class="four columns visible-sm visible-md visible-lg"></div>
                        <div class="four columns visible-sm visible-md visible-lg">
                            <h3 class="centered OpenSans">Nouveaut√©s de l'application</h3>
                        </div>
                    </div>
                </div>
            </strong>
            <div id='footer' class="Footer">
                <div class="row">
                    <div class="four columns"></div>
                        <div class="four columns visible-sm visible-md visible-lg">
                            <p class="">
                        <h4 class="grey">GEORED est un syst√®me de gestion de flotte de v√©hicules pour les m√©tiers de la collecte.</h4><hr><p>Elle a √©t√© con√ßue en architecture ouverte et en mode client-serveur avec des professionnels du m√©tier. Cette solution √©volue √† leurs demandes afin de r√©pondre au mieux √† leurs besoins.                        </p>
                    </div>
                    <div class="four columns visible-sm visible-md visible-lg">
                        <p>
                            <h4 class="grey">24/09/2020 :</h4><hr><p><ul class="disc"><li>[CitiID] Ajout d'une popup de d√©tail de lev√©e</li><li>[CitiID] Prise en charge des num√©ros m√©moire des puces</li></ul></p>                        </p>
                    </div>
                </div>
            </div>
        </div>



    </div>
</nav>


<script type="text/javascript">
$j(document).ready(function() {
    var modal           = $j("#modal-forgot-password");
    var modalContent    = modal.html();

    if (window!=window.top) {
        window.top.location = window.location;
    }

    $j("#nav-icon4").on("click",function() {
        $j("#overlay").toggle();
        $j(this).toggleClass('open');
    });

    $j('#formLoginDesktop').keypress(
        function(event) {
            //touche entr√©e
            if (event.keyCode == 13)
            $j('#formLoginDesktop').submit();
        }
    );

    $j("#connection").mouseover(function(){
        $j(this).css('background-color','#39a9dc');
    });

    $j("#connection").mouseout(function(){
        $j(this).css('background-color','#1153a0');
    });

    modal.on("hidden.bs.modal", function() {
        $j(this).html(modalContent);
    });

    modal.delegate("#btn-reset-password", "click", function() {
        var btnReset = $j(this);

        var message         = "";
        var htmlClass       = "";
        var blockMessage    = $j("#message-forgot-password");

        var parentFields = $j("#fields-forgot-password");

        var fieldLogin  = $j("#forgotPasswordLogin");
        var fieldClient = $j("#forgotPasswordClientNom");

        var parentLogin     = fieldLogin.parent();
        var parentClient    = fieldClient.parent();

        $j.ajax({
            type:       "POST",
            url:        root_ajax + "utilisateurs/forgotPassword",
            dataType:   "json",
            data: {
                login:  fieldLogin.val(),
                client: fieldClient.val()
            },
            beforeSend: function(jqXHR, settings) {
                blockMessage.removeClass("text-success text-warning text-danger");

                btnReset.attr("disabled", true);

                parentLogin.removeClass("has-error").removeClass("has-warning");
                parentClient.removeClass("has-error").removeClass("has-warning");

                if (!fieldLogin.val() || !fieldClient.val()) {
                    if (!fieldLogin.val()) {
                        parentLogin.addClass("has-error");
                        fieldLogin.focus();
                    }

                    if (!fieldClient.val()) {
                        parentClient.addClass("has-error");

                        if (!fieldLogin.is(":focus")) {
                            fieldClient.focus();
                        }
                    }

                    jqXHR.abort();

                    btnReset.attr("disabled", false);
                }
            },
            success: function(json, textStatus, jqXHR) {
                if (json.success) {
                    btnReset.remove();
                    parentFields.remove();

                    htmlClass = "text-success";
                } else {
                    if (json.critical) {
                        btnReset.remove();
                        parentFields.remove();

                        htmlClass = "text-danger";
                    } else {
                        btnReset.attr("disabled", false);
                        parentLogin.addClass("has-warning");
                        parentClient.addClass("has-warning");

                        htmlClass = "text-warning";
                    }
                }

                message = json.message;
            },
            error: function(jqXHR, textStatus, errorThrown) {
                btnReset.remove();
                parentFields.remove();

                message     = "Une erreur est survenue.<br/>Veuillez contacter le service client.";
                htmlClass   = "text-danger";
            },
            complete: function(jqXHR, textStatus) {
                blockMessage.html(message).addClass(htmlClass);
            }
        });
    });
});
</script>

        <div class="cb"></div>
        <div id="footer"></div>
            </body>
</html>
